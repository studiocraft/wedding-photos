!function(e){var t={common:{init:function(){window.onload=function(){document.body.scrollTop=document.documentElement.scrollTop=0;var t=e("html"),n=e("body"),i=document.getElementById("loaderOverlay");i&&i.parentNode&&1===i.parentNode.nodeType&&(i.parentNode.removeChild(i),i=null,t.removeClass("locked"),n.addClass("animated fadeIn"))}},finalize:function(){var t=e(".grid").imagesLoaded(function(){t.masonry({itemSelector:".grid-item",percentPosition:!0,columnWidth:".grid-sizer"})});t.imagesLoaded().progress(function(){t.isotope({itemSelector:".grid-item"})});var n=function(e){for(var t=function(e){for(var t,n,i,r,o=e.childNodes,a=o.length,d=[],l=0;l<a;l++)t=o[l],1===t.nodeType&&(n=t.children[0],i=n.getAttribute("data-size").split("x"),r={src:n.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),n.children.length>0&&(r.msrc=n.children[0].getAttribute("src")),r.el=t,d.push(r));return d},n=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},i=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,i=n(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(i){for(var r,a=i.parentNode,d=i.parentNode.childNodes,l=d.length,c=0,u=0;u<l;u++)if(1===d[u].nodeType){if(d[u]===i){r=c;break}c++}return r>=0&&o(r,a),!1}},r=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var r=n[i].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t},o=function(e,n,i,r){var o,a,d,l=document.querySelectorAll(".pswp")[0];if(d=t(n),a={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=d[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},r)if(a.galleryPIDs){for(var c=0;c<d.length;c++)if(d[c].pid==e){a.index=c;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);isNaN(a.index)||(i&&(a.showAnimationDuration=0),o=new PhotoSwipe(l,PhotoSwipeUI_Default,d,a),o.init())},a=document.querySelectorAll(e),d=0,l=a.length;d<l;d++)a[d].setAttribute("data-pswp-uid",d+1),a[d].onclick=i;var c=r();c.pid&&c.gid&&o(c.pid,a[c.gid-1],!0,!0)};n(".gallery")}}},n={fire:function(e,n,i){var r,o=t;n=void 0===n?"init":n,r=""!==e,r=r&&o[e],r=r&&"function"==typeof o[e][n],r&&o[e][n](i)},loadEvents:function(){n.fire("common"),e.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(e,t){n.fire(t),n.fire(t,"finalize")}),n.fire("common","finalize")}};e(document).ready(n.loadEvents)}(jQuery);